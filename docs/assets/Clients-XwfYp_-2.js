import{c as h,u as w,r as d,j as e,B as r,b as o,C as k,I as n,g as N,M,a as S}from"./index-BfMqFk4q.js";import{P as z}from"./plus-RLwd5G4T.js";import{S as A}from"./search-C8M8Hbau.js";import{F as P}from"./funnel-CaKe3_K0.js";import{M as L}from"./map-pin-X-t8lEtJ.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],I=h("building",T);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],y=h("phone",B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],F=h("user",E),G=()=>{const{clients:m,suppliers:p,addClient:v,addSupplier:_}=w(),[l,j]=d.useState("clients"),[i,x]=d.useState(""),[f,c]=d.useState(!1),[a,t]=d.useState({name:"",company:"",email:"",phone:"",address:"",type:"Particulier"}),b=m.filter(s=>{var u;return s.name.toLowerCase().includes(i.toLowerCase())||((u=s.company)==null?void 0:u.toLowerCase().includes(i.toLowerCase()))}),g=p.filter(s=>s.company.toLowerCase().includes(i.toLowerCase())||s.contactName.toLowerCase().includes(i.toLowerCase())),C=s=>{s.preventDefault(),v(a),c(!1),t({name:"",company:"",email:"",phone:"",address:"",type:"Particulier"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Clients & Tiers"}),e.jsx("p",{className:"text-slate-500",children:"Gérez votre base de clients et vos fournisseurs"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(r,{icon:z,onClick:()=>l==="clients"&&c(!0),children:l==="clients"?"Nouveau Client":"Nouveau Fournisseur"})})]}),e.jsx("div",{className:"border-b border-slate-200",children:e.jsxs("nav",{className:"-mb-px flex gap-6",children:[e.jsxs("button",{onClick:()=>{j("clients"),x("")},className:`pb-4 px-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${l==="clients"?"border-brand-600 text-brand-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[e.jsx(F,{size:18}),"Clients",e.jsx(o,{color:"blue",children:m.length})]}),e.jsxs("button",{onClick:()=>{j("suppliers"),x("")},className:`pb-4 px-2 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 ${l==="suppliers"?"border-brand-600 text-brand-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[e.jsx(I,{size:18}),"Fournisseurs",e.jsx(o,{color:"purple",children:p.length})]})]})}),e.jsxs(k,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(n,{placeholder:`Rechercher un ${l==="clients"?"client":"fournisseur"}...`,icon:A,value:i,onChange:s=>x(s.target.value)})}),e.jsx(r,{variant:"outline",icon:P,children:"Filtres"})]}),l==="clients"?e.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-4",children:"Nom / Société"}),e.jsx("th",{className:"py-4 px-4",children:"Contact"}),e.jsx("th",{className:"py-4 px-4",children:"Type"}),e.jsx("th",{className:"py-4 px-4 text-right",children:"Solde"}),e.jsx("th",{className:"py-4 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:b.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-slate-900",children:s.company||s.name}),s.company&&e.jsx("span",{className:"text-xs text-slate-500",children:s.name}),s.ice&&e.jsxs("span",{className:"text-xs text-slate-400",children:["ICE: ",s.ice]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex flex-col gap-1 text-slate-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{size:14})," ",s.phone]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{size:14})," ",s.email]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx(o,{color:s.type==="Professionnel"?"blue":"gray",children:s.type})}),e.jsx("td",{className:"py-4 px-4 text-right",children:e.jsxs("span",{className:`font-bold ${s.creditBalance>0?"text-rose-600":"text-emerald-600"}`,children:[s.creditBalance.toLocaleString()," MAD"]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx(r,{variant:"outline",size:"sm",children:"Détails"})})]},s.id))})]})}):e.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-4",children:"Société"}),e.jsx("th",{className:"py-4 px-4",children:"Interlocuteur"}),e.jsx("th",{className:"py-4 px-4",children:"Catégorie"}),e.jsx("th",{className:"py-4 px-4",children:"Adresse"}),e.jsx("th",{className:"py-4 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:g.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-slate-900",children:s.company}),e.jsxs("span",{className:"text-xs text-slate-400",children:["ICE: ",s.ice]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-slate-900 font-medium",children:s.contactName}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[e.jsx(y,{size:12})," ",s.phone]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(N,{size:12})," ",s.email]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx(o,{color:"purple",children:s.category})}),e.jsx("td",{className:"py-4 px-4 text-slate-600 text-sm max-w-xs truncate",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{size:14,className:"text-slate-400"}),s.address]})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx(r,{variant:"outline",size:"sm",children:"Fiche"})})]},s.id))})]})})]}),e.jsx(M,{isOpen:f,onClose:()=>c(!1),title:"Ajouter un Client",children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsx(n,{label:"Nom Complet",required:!0,value:a.name,onChange:s=>t({...a,name:s.target.value})}),e.jsx(n,{label:"Société (Optionnel)",value:a.company,onChange:s=>t({...a,company:s.target.value})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(n,{label:"Email",type:"email",required:!0,value:a.email,onChange:s=>t({...a,email:s.target.value})}),e.jsx(n,{label:"Téléphone",required:!0,value:a.phone,onChange:s=>t({...a,phone:s.target.value})})]}),e.jsx(n,{label:"Adresse",value:a.address,onChange:s=>t({...a,address:s.target.value})}),e.jsxs(S,{label:"Type Client",value:a.type,onChange:s=>t({...a,type:s.target.value}),children:[e.jsx("option",{value:"Particulier",children:"Particulier"}),e.jsx("option",{value:"Professionnel",children:"Professionnel"})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-2",children:[e.jsx(r,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),e.jsx(r,{type:"submit",children:"Enregistrer"})]})]})})]})};export{G as Clients};
