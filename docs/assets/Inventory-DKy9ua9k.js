import{c as u,u as S,r as n,j as e,B as i,C as P,I as r,d as m,b as A,M as w,a as M,e as x}from"./index-BGJdic0U.js";import{P as L}from"./plus-CZXLHVj4.js";import{S as T}from"./search-BepPDWoY.js";import{F as I}from"./funnel-CVF-cb4q.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O=u("circle-alert",q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],E=u("ellipsis",_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],z=u("trash-2",F),G=()=>{const{products:p,addProduct:j,deleteProduct:g}=S(),[o,y]=n.useState(""),[d,v]=n.useState("All"),[b,c]=n.useState(!1),[s,a]=n.useState({code:"",name:"",category:"Laptop",brand:"",buyPrice:0,sellPrice:0,stock:0,minStock:5,location:"Magasin",tva:20}),h=p.filter(t=>{const l=t.name.toLowerCase().includes(o.toLowerCase())||t.code.toLowerCase().includes(o.toLowerCase()),k=d==="All"||t.category===d;return l&&k}),N=(t,l)=>t===0?"red":t<=l?"yellow":"green",f=(t,l)=>t===0?x.OUT_OF_STOCK:t<=l?x.LOW_STOCK:x.AVAILABLE,C=t=>{t.preventDefault(),j(s),c(!1),a({code:"",name:"",category:"Laptop",brand:"",buyPrice:0,sellPrice:0,stock:0,minStock:5,location:"Magasin",tva:20})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gestion de Stock"}),e.jsx("p",{className:"text-slate-500",children:"Gérez vos produits, prix et inventaire"})]}),e.jsx(i,{icon:L,onClick:()=>c(!0),children:"Nouveau Produit"})]}),e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx(r,{placeholder:"Rechercher par nom, code ou référence...",icon:T,value:o,onChange:t=>y(t.target.value)})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{className:"px-4 py-2 border border-slate-300 rounded-lg bg-white text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:d,onChange:t=>v(t.target.value),children:[e.jsx("option",{value:"All",children:"Toutes catégories"}),m.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx(i,{variant:"outline",icon:I,children:"Filtres"})]})]}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-200",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-4 w-12",children:e.jsx("input",{type:"checkbox",className:"rounded text-brand-600 focus:ring-brand-500"})}),e.jsx("th",{className:"py-4 px-4",children:"Produit"}),e.jsx("th",{className:"py-4 px-4",children:"Catégorie"}),e.jsx("th",{className:"py-4 px-4 text-right",children:"Prix Achat"}),e.jsx("th",{className:"py-4 px-4 text-right",children:"Prix Vente"}),e.jsx("th",{className:"py-4 px-4 text-center",children:"Stock"}),e.jsx("th",{className:"py-4 px-4",children:"Statut"}),e.jsx("th",{className:"py-4 px-4 text-center",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h.map(t=>{const l=N(t.stock,t.minStock);return e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsx("input",{type:"checkbox",className:"rounded text-brand-600 focus:ring-brand-500"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-slate-900",children:t.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:["Ref: ",t.code]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded text-xs",children:t.category})}),e.jsxs("td",{className:"py-4 px-4 text-right font-medium text-slate-500",children:[t.buyPrice," MAD"]}),e.jsxs("td",{className:"py-4 px-4 text-right font-bold text-slate-900",children:[t.sellPrice," MAD"]}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsx("span",{className:"font-bold",children:t.stock})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx(A,{color:l,children:f(t.stock,t.minStock)})}),e.jsx("td",{className:"py-4 px-4 text-center",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{className:"p-1.5 text-slate-400 hover:text-brand-600 hover:bg-brand-50 rounded transition-colors",children:e.jsx(E,{size:18})}),e.jsx("button",{onClick:()=>g(t.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:e.jsx(z,{size:18})})]})})]},t.id)})})]})}),h.length===0&&e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx(O,{className:"mx-auto mb-3 text-slate-300",size:48}),e.jsx("p",{children:"Aucun produit trouvé pour votre recherche."})]})]}),e.jsx(w,{isOpen:b,onClose:()=>c(!1),title:"Ajouter un Produit",children:e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Code Référence",required:!0,value:s.code,onChange:t=>a({...s,code:t.target.value})}),e.jsx(r,{label:"Marque",required:!0,value:s.brand,onChange:t=>a({...s,brand:t.target.value})})]}),e.jsx(r,{label:"Nom du Produit",required:!0,value:s.name,onChange:t=>a({...s,name:t.target.value})}),e.jsx(M,{label:"Catégorie",value:s.category,onChange:t=>a({...s,category:t.target.value}),children:m.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Prix Achat (HT)",type:"number",required:!0,value:s.buyPrice,onChange:t=>a({...s,buyPrice:parseFloat(t.target.value)})}),e.jsx(r,{label:"Prix Vente (TTC)",type:"number",required:!0,value:s.sellPrice,onChange:t=>a({...s,sellPrice:parseFloat(t.target.value)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{label:"Stock Initial",type:"number",required:!0,value:s.stock,onChange:t=>a({...s,stock:parseInt(t.target.value)})}),e.jsx(r,{label:"Seuil Alerte",type:"number",required:!0,value:s.minStock,onChange:t=>a({...s,minStock:parseInt(t.target.value)})})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-2",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Annuler"}),e.jsx(i,{type:"submit",children:"Enregistrer"})]})]})})]})};export{G as Inventory};
