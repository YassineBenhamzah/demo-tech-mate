import{c as We,r as l,u as xt,j as c,B as je,S as ee,P as bt,F as Pt,U as At,C as de,a as jt,b as Ot}from"./index-BfMqFk4q.js";import{c as F,i as _,a as ze,s as H,b as S,p as J,d as Et,e as It,f as z,g as Nt,h as wt,j as Be,k as Dt,l as St,m as K,n as kt,o as Ct,q as Tt,r as Lt,t as Y,u as Rt,v as _t,w as Mt,x as Kt,y as $t,z as Wt,A as se,B as zt,C as q,R as Ge,S as Bt,D as Z,E as Ve,F as B,G as Gt,L,Z as Q,H as ge,I as Fe,J as Ue,K as Xe,M as Vt,N as $,O as te,P as ve,Q as Ft,T as He,U as Ut,V as Xt,W as Ht,X as Jt,Y as Yt,_ as qt,$ as Zt,a0 as Qt,a1 as ea,a2 as Je,a3 as ta,a4 as X,a5 as re,a6 as ae,a7 as aa,a8 as Ye,a9 as ra,aa as na,ab as qe,ac as Ze,ad as Qe,ae as ia,af as la,ag as xe,ah as be,ai as sa,aj as oa,ak as et,al as Oe,am as ca,an as ua,ao as tt,ap as da,aq as pa,ar as ma,as as va,at as fa,au as ha,av as ya,aw as ga,ax as Ee,ay as xa,az as ba,aA as Pa,aB as Aa,aC as ne,aD as ja,aE as Oa,aF as Ea,aG as Ia,aH as Na,aI as wa,aJ as Da,aK as Sa,aL as at,aM as ka,aN as Ca,aO as Ta,aP as Ie,aQ as La,aR as Ra,aS as _a,aT as Ne}from"./CartesianChart-zCf0ODv2.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],we=We("activity",Ma);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$a=We("triangle-alert",Ka);function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},fe.apply(null,arguments)}var rt=t=>{var{cx:e,cy:a,r,className:n}=t,i=F("recharts-dot",n);return _(e)&&_(a)&&_(r)?l.createElement("circle",fe({},H(t),ze(t),{className:i,cx:e,cy:a,r})):null},nt=t=>t.graphicalItems.polarItems,Wa=S([J,Et],It),oe=S([nt,z,Wa],Nt),za=S([oe],wt),ce=S([za,Be],Dt),Ba=S([ce,z,oe],St);S([ce,z,oe],(t,e,a)=>a.length>0?t.flatMap(r=>a.flatMap(n=>{var i,o=K(r,(i=e.dataKey)!==null&&i!==void 0?i:n.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:K(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var De=()=>{},Ga=S([ce,z,oe,kt,J],Ct),Va=S([z,Tt,Lt,De,Ga,De,Y,J],Rt),it=S([z,Y,ce,Ba,_t,J,Va],Mt),Fa=S([it,z,Kt],$t);S([z,it,Fa,J],Wt);function Se(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function ke(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Se(Object(a),!0).forEach(function(r){Ua(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Ua(t,e,a){return(e=Xa(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Xa(t){var e=Ha(t,"string");return typeof e=="symbol"?e:e+""}function Ha(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ja=(t,e)=>e,Pe=S([nt,Ja],(t,e)=>t.filter(a=>a.type==="pie").find(a=>a.id===e)),Ya=[],Ae=(t,e,a)=>(a==null?void 0:a.length)===0?Ya:a,lt=S([Be,Pe,Ae],(t,e,a)=>{var{chartData:r}=t;if(e!=null){var n;if((e==null?void 0:e.data)!=null&&e.data.length>0?n=e.data:n=r,(!n||!n.length)&&a!=null&&(n=a.map(i=>ke(ke({},e.presentationProps),i.props))),n!=null)return n}}),qa=S([lt,Pe,Ae],(t,e,a)=>{if(!(t==null||e==null))return t.map((r,n)=>{var i,o=K(r,e.nameKey,e.name),s;return a!=null&&(i=a[n])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=a[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=e.fill,{value:se(o,e.dataKey),color:s,payload:r,type:e.legendType}})}),Za=S([lt,Pe,Ae,zt],(t,e,a,r)=>{if(!(e==null||t==null))return xr({offset:r,pieSettings:e,displayedData:t,cells:a})}),Qa=["key"],er=["onMouseEnter","onClick","onMouseLeave"],tr=["id"],ar=["id"];function Ce(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ce(Object(a),!0).forEach(function(r){rr(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function rr(t,e,a){return(e=nr(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function nr(t){var e=ir(t,"string");return typeof e=="symbol"?e:e+""}function ir(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},W.apply(null,arguments)}function ue(t,e){if(t==null)return{};var a,r,n=lr(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function lr(t,e){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function sr(t){var e=l.useMemo(()=>Ve(t.children,ge),[t.children]),a=B(r=>qa(r,t.id,e));return a==null?null:l.createElement(Gt,{legendPayload:a})}var or=l.memo(t=>{var{dataKey:e,nameKey:a,sectors:r,stroke:n,strokeWidth:i,fill:o,name:s,hide:u,tooltipType:p,id:f}=t,h={dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:o,dataKey:e,nameKey:a,name:se(s,e),hide:u,type:p,color:o,unit:"",graphicalItemId:f}};return l.createElement(Fe,{tooltipEntrySettings:h})}),cr=(t,e)=>t>e?"start":t<e?"end":"middle",ur=(t,e,a)=>typeof e=="function"?X(e(t),a,a*.8):X(e,a,a*.8),dr=(t,e,a)=>{var{top:r,left:n,width:i,height:o}=e,s=ta(i,o),u=n+X(t.cx,i,i/2),p=r+X(t.cy,o,o/2),f=X(t.innerRadius,s,0),h=ur(a,t.outerRadius,s),v=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:u,cy:p,innerRadius:f,outerRadius:h,maxRadius:v}},pr=(t,e)=>{var a=te(e-t),r=Math.min(Math.abs(e-t),360);return a*r};function mr(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var vr=(t,e)=>{if(l.isValidElement(t))return l.cloneElement(t,e);if(typeof t=="function")return t(e);var a=F("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,n=ue(e,Qa);return l.createElement(ae,W({},n,{type:"linear",className:a}))},fr=(t,e,a)=>{if(l.isValidElement(t))return l.cloneElement(t,e);var r=a;if(typeof t=="function"&&(r=t(e),l.isValidElement(r)))return r;var n=F("recharts-pie-label-text",mr(t));return l.createElement(aa,W({},e,{alignmentBaseline:"middle",className:n}),r)};function hr(t){var{sectors:e,props:a,showLabels:r}=t,{label:n,labelLine:i,dataKey:o}=a;if(!r||!n||!e)return null;var s=H(a),u=re(n),p=re(i),f=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,h=e.map((v,g)=>{var x=(v.startAngle+v.endAngle)/2,O=ve(v.cx,v.cy,v.outerRadius+f,x),b=N(N(N(N({},s),v),{},{stroke:"none"},u),{},{index:g,textAnchor:cr(O.x,v.cx)},O),y=N(N(N(N({},s),v),{},{fill:"none",stroke:v.fill},p),{},{index:g,points:[ve(v.cx,v.cy,v.outerRadius,x),O],key:"line"});return l.createElement(Q,{zIndex:Z.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},l.createElement(L,null,i&&vr(i,y),fr(n,b,K(v,o))))});return l.createElement(L,{className:"recharts-pie-labels"},h)}function yr(t){var{sectors:e,props:a,showLabels:r}=t,{label:n}=a;return typeof n=="object"&&n!=null&&"position"in n?l.createElement(Je,{label:n}):l.createElement(hr,{sectors:e,props:a,showLabels:r})}function gr(t){var{sectors:e,activeShape:a,inactiveShape:r,allOtherPieProps:n,shape:i,id:o}=t,s=B(He),u=B(Ut),p=B(Xt),{onMouseEnter:f,onClick:h,onMouseLeave:v}=n,g=ue(n,er),x=Ht(f,n.dataKey,o),O=Jt(v),b=Yt(h,n.dataKey,o);return e==null||e.length===0?null:l.createElement(l.Fragment,null,e.map((y,A)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&e.length!==1)return null;var d=p==null||p===o,m=String(A)===s&&(u==null||n.dataKey===u)&&d,I=s?r:null,j=a&&m?a:I,E=N(N({},y),{},{stroke:y.stroke,tabIndex:-1,[Zt]:A,[qt]:o});return l.createElement(L,W({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Qt(g,y,A),{onMouseEnter:x(y,A),onMouseLeave:O(y,A),onClick:b(y,A)}),l.createElement(ea,W({option:i??j,index:A,shapeType:"sector",isActive:m},E)))}))}function xr(t){var e,{pieSettings:a,displayedData:r,cells:n,offset:i}=t,{cornerRadius:o,startAngle:s,endAngle:u,dataKey:p,nameKey:f,tooltipType:h}=a,v=Math.abs(a.minAngle),g=pr(s,u),x=Math.abs(g),O=r.length<=1?0:(e=a.paddingAngle)!==null&&e!==void 0?e:0,b=r.filter(j=>K(j,p,0)!==0).length,y=(x>=360?b:b-1)*O,A=x-b*v-y,d=r.reduce((j,E)=>{var P=K(E,p,0);return j+(_(P)?P:0)},0),m;if(d>0){var I;m=r.map((j,E)=>{var P=K(j,p,0),k=K(j,f,E),D=dr(a,i,j),C=(_(P)?P:0)/d,w,R=N(N({},j),n&&n[E]&&n[E].props);E?w=I.endAngle+te(g)*O*(P!==0?1:0):w=s;var T=w+te(g)*((P!==0?v:0)+C*A),M=(w+T)/2,U=(D.innerRadius+D.outerRadius)/2,yt=[{name:k,value:P,payload:R,dataKey:p,type:h,graphicalItemId:a.id}],gt=ve(D.cx,D.cy,U,M);return I=N(N(N(N({},a.presentationProps),{},{percent:C,cornerRadius:typeof o=="string"?parseFloat(o):o,name:k,tooltipPayload:yt,midAngle:M,middleRadius:U,tooltipPosition:gt},R),D),{},{value:P,dataKey:p,startAngle:w,endAngle:T,payload:R,paddingAngle:te(g)*O}),I})}return m}function br(t){var{showLabels:e,sectors:a,children:r}=t,n=l.useMemo(()=>!e||!a?[]:a.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[a,e]);return l.createElement(Ft,{value:e?n:void 0},r)}function Pr(t){var{props:e,previousSectorsRef:a,id:r}=t,{sectors:n,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:u,activeShape:p,inactiveShape:f,onAnimationStart:h,onAnimationEnd:v}=e,g=Ue(e,"recharts-pie-"),x=a.current,[O,b]=l.useState(!1),y=l.useCallback(()=>{typeof v=="function"&&v(),b(!1)},[v]),A=l.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return l.createElement(br,{showLabels:!O,sectors:n},l.createElement(Xe,{animationId:g,begin:o,duration:s,isActive:i,easing:u,onAnimationStart:A,onAnimationEnd:y,key:g},d=>{var m=[],I=n&&n[0],j=I==null?void 0:I.startAngle;return n==null||n.forEach((E,P)=>{var k=x&&x[P],D=P>0?Vt(E,"paddingAngle",0):0;if(k){var C=$(k.endAngle-k.startAngle,E.endAngle-E.startAngle,d),w=N(N({},E),{},{startAngle:j+D,endAngle:j+C+D});m.push(w),j=w.endAngle}else{var{endAngle:R,startAngle:T}=E,M=$(0,R-T,d),U=N(N({},E),{},{startAngle:j+D,endAngle:j+M+D});m.push(U),j=U.endAngle}}),a.current=m,l.createElement(L,null,l.createElement(gr,{sectors:m,activeShape:p,inactiveShape:f,allOtherPieProps:e,shape:e.shape,id:r}))}),l.createElement(yr,{showLabels:!O,sectors:n,props:e}),e.children)}var Ar={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Z.area};function jr(t){var{id:e}=t,a=ue(t,tr),{hide:r,className:n,rootTabIndex:i}=t,o=l.useMemo(()=>Ve(t.children,ge),[t.children]),s=B(f=>Za(f,e,o)),u=l.useRef(null),p=F("recharts-pie",n);return r||s==null?(u.current=null,l.createElement(L,{tabIndex:i,className:p})):l.createElement(Q,{zIndex:t.zIndex},l.createElement(or,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:s,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),l.createElement(L,{tabIndex:i,className:p},l.createElement(Pr,{props:N(N({},a),{},{sectors:s}),previousSectorsRef:u,id:e})))}function st(t){var e=q(t,Ar),{id:a}=e,r=ue(e,ar),n=H(r);return l.createElement(Ge,{id:a,type:"pie"},i=>l.createElement(l.Fragment,null,l.createElement(Bt,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:e.maxRadius}),l.createElement(sr,W({},r,{id:i})),l.createElement(jr,W({},r,{id:i}))))}st.displayName="Pie";var Or=["points"];function Te(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function pe(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(a),!0).forEach(function(r){Er(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Er(t,e,a){return(e=Ir(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Ir(t){var e=Nr(t,"string");return typeof e=="symbol"?e:e+""}function Nr(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ie(){return ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ie.apply(null,arguments)}function wr(t,e){if(t==null)return{};var a,r,n=Dr(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Dr(t,e){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function Sr(t){var{option:e,dotProps:a,className:r}=t;if(l.isValidElement(e))return l.cloneElement(e,a);if(typeof e=="function")return e(a);var n=F(r,typeof e!="boolean"?e.className:""),i=a??{},{points:o}=i,s=wr(i,Or);return l.createElement(rt,ie({},s,{className:n}))}function kr(t,e){return t==null?!1:e?!0:t.length===1}function Cr(t){var{points:e,dot:a,className:r,dotClassName:n,dataKey:i,baseProps:o,needClip:s,clipPathId:u,zIndex:p=Z.scatter}=t;if(!kr(e,a))return null;var f=Ye(a),h=ra(a),v=e.map((x,O)=>{var b,y,A=pe(pe(pe({r:3},o),h),{},{index:O,cx:(b=x.x)!==null&&b!==void 0?b:void 0,cy:(y=x.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:x.value,payload:x.payload,points:e});return l.createElement(Sr,{key:"dot-".concat(O),option:a,dotProps:A,className:n})}),g={};return s&&u!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),l.createElement(Q,{zIndex:p},l.createElement(L,ie({className:r},g),v))}function Le(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function me(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Le(Object(a),!0).forEach(function(r){Tr(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Tr(t,e,a){return(e=Lr(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Lr(t){var e=Rr(t,"string");return typeof e=="symbol"?e:e+""}function Rr(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _r=t=>{var{point:e,childIndex:a,mainColor:r,activeDot:n,dataKey:i,clipPath:o}=t;if(n===!1||e.x==null||e.y==null)return null;var s={index:a,dataKey:i,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=me(me(me({},s),re(n)),ze(n)),p;return l.isValidElement(n)?p=l.cloneElement(n,u):typeof n=="function"?p=n(u):p=l.createElement(rt,u),l.createElement(L,{className:"recharts-active-dot",clipPath:o},p)};function Re(t){var{points:e,mainColor:a,activeDot:r,itemDataKey:n,clipPath:i,zIndex:o=Z.activeDot}=t,s=B(He),u=na();if(e==null||u==null)return null;var p=e.find(f=>u.includes(f.payload));return qe(p)?null:l.createElement(Q,{zIndex:o},l.createElement(_r,{point:p,childIndex:Number(s),mainColor:a,dataKey:n,activeDot:r,clipPath:i}))}function Mr(t){var e=re(t),a=3,r=2;if(e!=null){var{r:n,strokeWidth:i}=e,o=Number(n),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=a),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:a,strokeWidth:r}}var ot=(t,e,a)=>Ze(t,"xAxis",xe(t,e),a),ct=(t,e,a)=>Qe(t,"xAxis",xe(t,e),a),ut=(t,e,a)=>Ze(t,"yAxis",be(t,e),a),dt=(t,e,a)=>Qe(t,"yAxis",be(t,e),a),Kr=S([Y,ot,ut,ct,dt],(t,e,a,r,n)=>et(t,"xAxis")?Oe(e,r,!1):Oe(a,n,!1)),$r=(t,e)=>e,pt=S([ca,$r],(t,e)=>t.filter(a=>a.type==="area").find(a=>a.id===e)),mt=t=>{var e=Y(t),a=et(e,"xAxis");return a?"yAxis":"xAxis"},Wr=(t,e)=>{var a=mt(t);return a==="yAxis"?be(t,e):xe(t,e)},zr=(t,e,a)=>sa(t,mt(t),Wr(t,e),a),Br=S([pt,zr],(t,e)=>{var a;if(!(t==null||e==null)){var{stackId:r}=t,n=oa(t);if(!(r==null||n==null)){var i=(a=e[r])===null||a===void 0?void 0:a.stackedData,o=i==null?void 0:i.find(s=>s.key===n);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),Gr=S([Y,ot,ut,ct,dt,Br,ia,Kr,pt,la],(t,e,a,r,n,i,o,s,u,p)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:v}=o;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||a==null||r==null||n==null||r.length===0||n.length===0||s==null)){var{data:g}=u,x;if(g&&g.length>0?x=g:x=f==null?void 0:f.slice(h,v+1),x!=null)return cn({layout:t,xAxis:e,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataStartIndex:h,areaSettings:u,stackedData:i,displayedData:x,chartBaseValue:p,bandSize:s})}}),Vr=["id"],Fr=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},G.apply(null,arguments)}function vt(t,e){if(t==null)return{};var a,r,n=Ur(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Ur(t,e){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function _e(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function V(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?_e(Object(a),!0).forEach(function(r){Xr(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_e(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Xr(t,e,a){return(e=Hr(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Hr(t){var e=Jr(t,"string");return typeof e=="symbol"?e:e+""}function Jr(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function le(t,e){return t&&t!=="none"?t:e}var Yr=t=>{var{dataKey:e,name:a,stroke:r,fill:n,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:le(r,n),value:se(a,e),payload:t}]},qr=l.memo(t=>{var{dataKey:e,data:a,stroke:r,strokeWidth:n,fill:i,name:o,hide:s,unit:u,tooltipType:p,id:f}=t,h={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:se(o,e),hide:s,type:p,color:le(r,i),unit:u,graphicalItemId:f}};return l.createElement(Fe,{tooltipEntrySettings:h})});function Zr(t){var{clipPathId:e,points:a,props:r}=t,{needClip:n,dot:i,dataKey:o}=r,s=H(r);return l.createElement(Cr,{points:a,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:n,clipPathId:e})}function Qr(t){var{showLabels:e,children:a,points:r}=t,n=r.map(i=>{var o,s,u={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return V(V({},u),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return l.createElement(Pa,{value:e?n:void 0},a)}function Me(t){var{points:e,baseLine:a,needClip:r,clipPathId:n,props:i}=t,{layout:o,type:s,stroke:u,connectNulls:p,isRange:f}=i,{id:h}=i,v=vt(i,Vr),g=H(v),x=Aa(v);return l.createElement(l.Fragment,null,(e==null?void 0:e.length)>1&&l.createElement(L,{clipPath:r?"url(#clipPath-".concat(n,")"):void 0},l.createElement(ae,G({},x,{id:h,points:e,connectNulls:p,type:s,baseLine:a,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&l.createElement(ae,G({},g,{className:"recharts-area-curve",layout:o,type:s,connectNulls:p,fill:"none",points:e})),u!=="none"&&f&&l.createElement(ae,G({},g,{className:"recharts-area-curve",layout:o,type:s,connectNulls:p,fill:"none",points:a}))),l.createElement(Zr,{points:e,props:v,clipPathId:n}))}function en(t){var e,a,{alpha:r,baseLine:n,points:i,strokeWidth:o}=t,s=(e=i[0])===null||e===void 0?void 0:e.y,u=(a=i[i.length-1])===null||a===void 0?void 0:a.y;if(!ne(s)||!ne(u))return null;var p=r*Math.abs(s-u),f=Math.max(...i.map(h=>h.x||0));return _(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),_(f)?l.createElement("rect",{x:0,y:s<u?s:s-p,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(p)}):null}function tn(t){var e,a,{alpha:r,baseLine:n,points:i,strokeWidth:o}=t,s=(e=i[0])===null||e===void 0?void 0:e.x,u=(a=i[i.length-1])===null||a===void 0?void 0:a.x;if(!ne(s)||!ne(u))return null;var p=r*Math.abs(s-u),f=Math.max(...i.map(h=>h.y||0));return _(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),_(f)?l.createElement("rect",{x:s<u?s:s-p,y:0,width:p,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}function an(t){var{alpha:e,layout:a,points:r,baseLine:n,strokeWidth:i}=t;return a==="vertical"?l.createElement(en,{alpha:e,points:r,baseLine:n,strokeWidth:i}):l.createElement(tn,{alpha:e,points:r,baseLine:n,strokeWidth:i})}function rn(t){var{needClip:e,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:i}=t,{points:o,baseLine:s,isAnimationActive:u,animationBegin:p,animationDuration:f,animationEasing:h,onAnimationStart:v,onAnimationEnd:g}=r,x=l.useMemo(()=>({points:o,baseLine:s}),[o,s]),O=Ue(x,"recharts-area-"),b=xa(),[y,A]=l.useState(!1),d=!y,m=l.useCallback(()=>{typeof g=="function"&&g(),A(!1)},[g]),I=l.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]);if(b==null)return null;var j=n.current,E=i.current;return l.createElement(Qr,{showLabels:d,points:o},r.children,l.createElement(Xe,{animationId:O,begin:p,duration:f,isActive:u,easing:h,onAnimationEnd:m,onAnimationStart:I,key:O},P=>{if(j){var k=j.length/o.length,D=P===1?o:o.map((w,R)=>{var T=Math.floor(R*k);if(j[T]){var M=j[T];return V(V({},w),{},{x:$(M.x,w.x,P),y:$(M.y,w.y,P)})}return w}),C;return _(s)?C=$(E,s,P):qe(s)||ba(s)?C=$(E,0,P):C=s.map((w,R)=>{var T=Math.floor(R*k);if(Array.isArray(E)&&E[T]){var M=E[T];return V(V({},w),{},{x:$(M.x,w.x,P),y:$(M.y,w.y,P)})}return w}),P>0&&(n.current=D,i.current=C),l.createElement(Me,{points:D,baseLine:C,needClip:e,clipPathId:a,props:r})}return P>0&&(n.current=o,i.current=s),l.createElement(L,null,u&&l.createElement("defs",null,l.createElement("clipPath",{id:"animationClipPath-".concat(a)},l.createElement(an,{alpha:P,points:o,baseLine:s,layout:b,strokeWidth:r.strokeWidth}))),l.createElement(L,{clipPath:"url(#animationClipPath-".concat(a,")")},l.createElement(Me,{points:o,baseLine:s,needClip:e,clipPathId:a,props:r})))}),l.createElement(Je,{label:r.label}))}function nn(t){var{needClip:e,clipPathId:a,props:r}=t,n=l.useRef(null),i=l.useRef();return l.createElement(rn,{needClip:e,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:i})}class ln extends l.PureComponent{render(){var{hide:e,dot:a,points:r,className:n,top:i,left:o,needClip:s,xAxisId:u,yAxisId:p,width:f,height:h,id:v,baseLine:g,zIndex:x}=this.props;if(e)return null;var O=F("recharts-area",n),b=v,{r:y,strokeWidth:A}=Mr(a),d=Ye(a),m=y*2+A,I=s?"url(#clipPath-".concat(d?"":"dots-").concat(b,")"):void 0;return l.createElement(Q,{zIndex:x},l.createElement(L,{className:O},s&&l.createElement("defs",null,l.createElement(ga,{clipPathId:b,xAxisId:u,yAxisId:p}),!d&&l.createElement("clipPath",{id:"clipPath-dots-".concat(b)},l.createElement("rect",{x:o-m/2,y:i-m/2,width:f+m,height:h+m}))),l.createElement(nn,{needClip:s,clipPathId:b,props:this.props})),l.createElement(Re,{points:r,mainColor:le(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(g)&&l.createElement(Re,{points:g,mainColor:le(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var ft={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Z.area};function sn(t){var e,a=q(t,ft),{activeDot:r,animationBegin:n,animationDuration:i,animationEasing:o,connectNulls:s,dot:u,fill:p,fillOpacity:f,hide:h,isAnimationActive:v,legendType:g,stroke:x,xAxisId:O,yAxisId:b}=a,y=vt(a,Fr),A=va(),d=fa(),{needClip:m}=ha(O,b),I=tt(),{points:j,isRange:E,baseLine:P}=(e=B(T=>Gr(T,t.id,I)))!==null&&e!==void 0?e:{},k=ya();if(A!=="horizontal"&&A!=="vertical"||k==null||d!=="AreaChart"&&d!=="ComposedChart")return null;var{height:D,width:C,x:w,y:R}=k;return!j||!j.length?null:l.createElement(ln,G({},y,{activeDot:r,animationBegin:n,animationDuration:i,animationEasing:o,baseLine:P,connectNulls:s,dot:u,fill:p,fillOpacity:f,height:D,hide:h,layout:A,isAnimationActive:v==="auto"?!ja.isSsr:v,isRange:E,legendType:g,needClip:m,points:j,stroke:x,width:C,left:w,top:R,xAxisId:O,yAxisId:b}))}var on=(t,e,a,r,n)=>{var i=a??e;if(_(i))return i;var o=t==="horizontal"?n:r,s=o.scale.domain();if(o.type==="number"){var u=Math.max(s[0],s[1]),p=Math.min(s[0],s[1]);return i==="dataMin"?p:i==="dataMax"||u<0?u:Math.max(Math.min(s[0],s[1]),0)}return i==="dataMin"?s[0]:i==="dataMax"?s[1]:s[0]};function cn(t){var{areaSettings:{connectNulls:e,baseValue:a,dataKey:r},stackedData:n,layout:i,chartBaseValue:o,xAxis:s,yAxis:u,displayedData:p,dataStartIndex:f,xAxisTicks:h,yAxisTicks:v,bandSize:g}=t,x=n&&n.length,O=on(i,o,a,s,u),b=i==="horizontal",y=!1,A=p.map((m,I)=>{var j,E,P;if(x)P=n[f+I];else{var k=K(m,r);Array.isArray(k)?(P=k,y=!0):P=[O,k]}var D=(j=(E=P)===null||E===void 0?void 0:E[1])!==null&&j!==void 0?j:null,C=D==null||x&&!e&&K(m,r)==null;return b?{x:Ee({axis:s,ticks:h,bandSize:g,entry:m,index:I}),y:C?null:u.scale(D),value:P,payload:m}:{x:C?null:s.scale(D),y:Ee({axis:u,ticks:v,bandSize:g,entry:m,index:I}),value:P,payload:m}}),d;return x||y?d=A.map(m=>{var I=Array.isArray(m.value)?m.value[0]:null;return b?{x:m.x,y:I!=null&&m.y!=null?u.scale(I):null,payload:m.payload}:{x:I!=null?s.scale(I):null,y:m.y,payload:m.payload}}):d=b?u.scale(O):s.scale(O),{points:A,baseLine:d,isRange:y}}function un(t){var e=q(t,ft),a=tt();return l.createElement(Ge,{id:e.id,type:"area"},r=>l.createElement(l.Fragment,null,l.createElement(da,{legendPayload:Yr(e)}),l.createElement(qr,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),l.createElement(pa,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:ma(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:a,connectNulls:e.connectNulls}),l.createElement(sn,G({},e,{id:r}))))}var he=l.memo(un,ua);he.displayName="Area";function dn(t){var e=Oa();return l.useEffect(()=>{e(Ea(t))},[e,t]),null}var pn=["layout"];function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ye.apply(null,arguments)}function mn(t,e){if(t==null)return{};var a,r,n=vn(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],e.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function vn(t,e){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var fn={top:5,right:5,bottom:5,left:5},ht={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fn,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hn=l.forwardRef(function(e,a){var r,n=q(e.categoricalChartProps,ht),{layout:i}=n,o=mn(n,pn),{chartName:s,defaultTooltipEventType:u,validateTooltipEventTypes:p,tooltipPayloadSearcher:f}=e,h={chartName:s,defaultTooltipEventType:u,validateTooltipEventTypes:p,tooltipPayloadSearcher:f,eventEmitter:void 0};return l.createElement(Ia,{preloadedState:{options:h},reduxStoreName:(r=n.id)!==null&&r!==void 0?r:s},l.createElement(Na,{chartData:n.data}),l.createElement(wa,{layout:i,margin:n.margin}),l.createElement(Da,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),l.createElement(dn,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),l.createElement(Sa,ye({},o,{ref:a})))});function Ke(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function $e(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ke(Object(a),!0).forEach(function(r){yn(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function yn(t,e,a){return(e=gn(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function gn(t){var e=xn(t,"string");return typeof e=="symbol"?e:e+""}function xn(t,e){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bn=["item"],Pn=$e($e({},ht),{},{layout:"centric",startAngle:0,endAngle:360}),An=l.forwardRef((t,e)=>{var a=q(t,Pn);return l.createElement(hn,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bn,tooltipPayloadSearcher:at,categoricalChartProps:a,ref:e})}),jn=["axis"],On=l.forwardRef((t,e)=>l.createElement(ka,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jn,tooltipPayloadSearcher:at,categoricalChartProps:t,ref:e}));const Nn=()=>{const{transactions:t,products:e,clients:a,logs:r,quotes:n,invoices:i}=xt(),o=new Date().getMonth(),s=t.filter(d=>d.type==="IN"&&new Date(d.date).getMonth()===o).reduce((d,m)=>d+m.amount,0),u=t.filter(d=>d.type==="OUT"&&new Date(d.date).getMonth()===o).reduce((d,m)=>d+m.amount,0),p=s-u,f=s>0?(p/s*100).toFixed(1):"0",h=e.filter(d=>d.stock<=d.minStock),v=e.reduce((d,m)=>d+m.stock*m.buyPrice,0);e.reduce((d,m)=>d+m.stock*m.sellPrice,0);const g=n.filter(d=>d.status==="Sent"||d.status==="Draft").length,x=i.filter(d=>d.status==="Overdue"||d.status==="Unpaid"&&new Date(d.dueDate)<new Date).length,O=[{name:"Lun",sales:4e3,profit:1200},{name:"Mar",sales:3e3,profit:900},{name:"Mer",sales:2e3,profit:600},{name:"Jeu",sales:2780,profit:850},{name:"Ven",sales:1890,profit:400},{name:"Sam",sales:2390,profit:700},{name:"Dim",sales:3490,profit:1100}],b=e.reduce((d,m)=>(d[m.category]=(d[m.category]||0)+1,d),{}),y=Object.keys(b).map(d=>({name:d,value:b[d]})),A=["#0ea5e9","#6366f1","#10b981","#f59e0b","#f43f5e"];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Tableau de Bord Exécutif"}),c.jsx("p",{className:"text-slate-500",children:"Vue d'ensemble en temps réel & KPIs stratégiques"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(je,{variant:"outline",size:"sm",icon:we,children:"Rafraîchir Données"}),c.jsxs("span",{className:"text-xs font-mono text-slate-400",children:["Dernière MAJ: ",new Date().toLocaleTimeString()]})]})]}),(h.length>0||x>0)&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.length>0&&c.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg flex items-start gap-3",children:[c.jsx($a,{className:"text-amber-600 shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-amber-800",children:"Alerte Stock Bas"}),c.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[h.length," produits sont sous le seuil de sécurité.",c.jsx("button",{className:"underline ml-2 font-medium",children:"Réapprovisionner"})]})]})]}),x>0&&c.jsxs("div",{className:"bg-rose-50 border border-rose-200 p-4 rounded-lg flex items-start gap-3",children:[c.jsx(Ca,{className:"text-rose-600 shrink-0 mt-0.5",size:20}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-rose-800",children:"Factures en Retard"}),c.jsxs("p",{className:"text-sm text-rose-700 mt-1",children:[x," factures nécessitent une relance immédiate."]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx(ee,{title:"Marge Nette (Mois)",value:`${p.toLocaleString()} MAD`,trend:`${f}%`,trendUp:p>0,icon:Ta,color:"emerald"}),c.jsx(ee,{title:"Valeur du Stock",value:`${v.toLocaleString()} MAD`,trend:"Actif",trendUp:!0,icon:bt,color:"blue"}),c.jsx(ee,{title:"Devis en Cours",value:g.toString(),trend:"Opportunités",trendUp:!0,icon:Pt,color:"purple"}),c.jsx(ee,{title:"Clients Actifs",value:a.length.toString(),trend:"+2 vs M-1",trendUp:!0,icon:At,color:"indigo"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs(de,{className:"lg:col-span-2 p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Performance Financière (Ventes vs Profit)"}),c.jsxs(jt,{className:"w-32",children:[c.jsx("option",{children:"7 Jours"}),c.jsx("option",{children:"30 Jours"})]})]}),c.jsx("div",{className:"h-80 w-full",children:c.jsx(Ie,{width:"100%",height:"100%",children:c.jsxs(On,{data:O,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.1}),c.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]}),c.jsxs("linearGradient",{id:"colorProfit",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),c.jsx(La,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),c.jsx(Ra,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"},dy:10}),c.jsx(_a,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),c.jsx(Ne,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),c.jsx(he,{type:"monotone",dataKey:"sales",stroke:"#0ea5e9",strokeWidth:2,fillOpacity:1,fill:"url(#colorSales)",name:"Ventes"}),c.jsx(he,{type:"monotone",dataKey:"profit",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorProfit)",name:"Profit"})]})})})]}),c.jsxs(de,{className:"p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Répartition du Stock"}),c.jsx("div",{className:"h-60 w-full",children:c.jsx(Ie,{width:"100%",height:"100%",children:c.jsxs(An,{children:[c.jsx(st,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:y.map((d,m)=>c.jsx(ge,{fill:A[m%A.length]},`cell-${m}`))}),c.jsx(Ne,{})]})})}),c.jsx("div",{className:"space-y-3 mt-4",children:y.slice(0,3).map((d,m)=>c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:A[m%A.length]}}),c.jsx("span",{className:"text-slate-600",children:d.name})]}),c.jsx("span",{className:"font-bold text-slate-900",children:d.value})]},m))})]})]}),c.jsxs(de,{className:"p-0 overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(we,{size:20,className:"text-brand-600"}),"Flux d'Activité (Temps Réel)"]}),c.jsx(je,{variant:"outline",size:"sm",children:"Voir Journal Audit"})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-slate-50/50 text-slate-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"py-3 px-6",children:"Horodatage"}),c.jsx("th",{className:"py-3 px-6",children:"Utilisateur"}),c.jsx("th",{className:"py-3 px-6",children:"Action"}),c.jsx("th",{className:"py-3 px-6",children:"Module"}),c.jsx("th",{className:"py-3 px-6",children:"Détails"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:r.slice(0,5).map(d=>c.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[c.jsx("td",{className:"py-3 px-6 text-slate-400 font-mono text-xs",children:d.timestamp.split(" ")[1]}),c.jsxs("td",{className:"py-3 px-6 font-medium text-slate-900 flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs text-slate-600",children:d.user.charAt(0)}),d.user]}),c.jsx("td",{className:"py-3 px-6 text-brand-600 font-medium",children:d.action}),c.jsx("td",{className:"py-3 px-6",children:c.jsx(Ot,{color:"gray",children:d.module})}),c.jsx("td",{className:"py-3 px-6 text-slate-500 max-w-xs truncate group-hover:text-slate-700",children:d.details})]},d.id))})]})})]})]})};export{Nn as Dashboard};
